(this.webpackJsonpthewayshop=this.webpackJsonpthewayshop||[]).push([[0],{100:function(e,t,s){},102:function(e,t,s){"use strict";s.r(t);s(62),s(63);var n=s(1),a=s.n(n),c=s(19),r=s.n(c),i=(s(68),s(30)),o=s(31),l=s(60),d=s(59),u=s(12),j=s(14),m=s(111),b=s(112),h=s(113),f=s(114),p=s(115),x=s(116),O=s(117),g=(s(69),s(53)),v=s(106),N=s(107),w=s(108),y=s(109),k=s(0),C=[{src:"/assets/Carousel_Images/image_1.jpg",altText:"Slide 1",caption:"Slide 1"},{src:"/assets/Carousel_Images/image_2.jpg",altText:"Slide 2",caption:"Slide 2"},{src:"/assets/Carousel_Images/image_3.jpg",altText:"Slide 3",caption:"Slide 3"}],S=function(e){var t=Object(n.useState)(0),s=Object(u.a)(t,2),a=s[0],c=s[1],r=Object(n.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],d=function(){if(!o){var e=a===C.length-1?0:a+1;c(e)}},j=function(){if(!o){var e=0===a?C.length-1:a-1;c(e)}},m=C.map((function(e){return Object(k.jsxs)(g.a,{onExiting:function(){return l(!0)},onExited:function(){return l(!1)},children:[Object(k.jsx)("img",{src:e.src,alt:e.altText,width:"100%",height:"400px"}),Object(k.jsx)("div",{className:"carousel-overlay"}),Object(k.jsx)(v.a,{captionText:e.caption,captionHeader:e.caption,style:{display:"block"}})]},e.src)}));return Object(k.jsxs)(N.a,{id:"top-header-carousel",activeIndex:a,next:d,previous:j,children:[Object(k.jsx)(w.a,{items:C,activeIndex:a,onClickHandler:function(e){o||c(e)}}),m,Object(k.jsx)(y.a,{direction:"prev",directionText:"Previous",onClickHandler:j}),Object(k.jsx)(y.a,{direction:"next",directionText:"Next",onClickHandler:d})]})},E=s(8),P=s(129),_=s(110),I=(s(82),"Add_Comments"),T="Comments_Loading",L="Comments_Failed",A="Post_Comment",M="Get_Products",F="Post_Product",q="Products_Loading",U="Products_Failed",D="Add_Favorite",R="Favorite_Loading",B="Favorite_Failed",z="Post_Favorite",J="Req_Login",H="Login_Success",W="Login_Failed",Y="Req_Logout",G="Logout_Success",$="Upade_User",V="https://localhost:3443/",K=s(13),Z=function(){return function(e){e(X(!0)),fetch("".concat(V,"comments")).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error fetch Comments: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(t){return e(Q(t))})).catch((function(t){return e(ee(t.message))}))}},Q=function(e){return{type:I,payload:e}},X=function(){return{type:T}},ee=function(e){return{type:L,payload:e}},te=function(e,t){return function(s){var n="Bearer "+localStorage.getItem("token"),a={product_id:e,comment:t};fetch("".concat(V,"comments"),{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json",Authorization:n},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error post Comment: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(e){return s(function(e){return{type:A,payload:e}}(e))})).catch((function(e){alert("Your comment couldn't be posted\n"+e.message)}))}},se=function(){return function(e){e(ae(!0)),fetch(V+"products/",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error fetch Products: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(t){return e(ne(t))})).catch((function(t){return e(ce(t.message))}))}},ne=function(e){return{type:M,payload:e}},ae=function(){return{type:q}},ce=function(e){return{type:U,payload:e}},re=function(e,t,s){return function(n){e.images=e.images.map((function(e){return"products/".concat(e.name)}));var a="Bearer "+localStorage.getItem("token");fetch(V+"products/",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:a},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){var a;if(!e.success)throw new Error(e.statusMsg);n((a=e.product,{type:F,payload:a})),n(be(t,"uploadprodimgs")),s(),K.d.success(e.statusMsg)}),(function(e){throw new Error("Error post Product: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return K.d.error(e.message)}))}},ie=function(e,t){return function(s){var n="Bearer "+localStorage.getItem("token");fetch(V+"products/"+e,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:n},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error("Product could not be updated");s(se()),K.d.success(e.statusMsg)}),(function(e){throw new Error("Error: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return K.d.error(e.message)}))}},oe=function(){return function(e){e(de());var t="Bearer "+localStorage.getItem("token");fetch(V+"mywishlist",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:t},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error fetch WishList: "+e.status+" "+e.statusText)})).then((function(e){return e.json()})).then((function(t){return e(le(t))})).catch((function(t){return e(ue(t.message))}))}},le=function(e){return{type:D,payload:e}},de=function(){return{type:R}},ue=function(e){return{type:B,payload:e}},je=function(e){return function(t){var s="Bearer "+localStorage.getItem("token");fetch(V+"mywishlist/"+e,{method:"POST",body:JSON.stringify({_id:e}),headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){var s;if(!e.success)throw new Error(e.statusMsg);t((s=e.wishlist,{type:z,payload:s})),K.d.success(e.statusMsg)}),(function(e){throw new Error("Error post WishList: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return K.d.error(e.message)}))}},me=function(e){return function(t){var s="Bearer "+localStorage.getItem("token");fetch(V+"mywishlist/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error(e.statusMsg);t(le(e.wishlist)),K.d.warning(e.statusMsg)}),(function(e){throw new Error("Error deleteWishlist: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return K.d.error(e.message)}))}},be=function(e,t){return function(s){var n="Bearer "+localStorage.getItem("token");fetch(V+t,{method:"POST",body:e,headers:{Authorization:n},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error(e.statusText)}),(function(e){throw new Error("Error post image: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return K.d.error(e.message)}))}},he=function(e){return function(t){var s="Bearer "+localStorage.getItem("token");fetch(V+"uploadprodimgs/delete",{method:"DELETE",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error: "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error delete image: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return console.log(e.message)}))}},fe=function(e){return{type:J,payload:e.userInfo}},pe=function(e){return{type:H,payload:e.token}},xe=function(){return function(e){e(Oe()),localStorage.removeItem("token"),localStorage.removeItem("userInfo"),setTimeout((function(){e(ge())}),3e3),window.location.replace(window.location.origin)}},Oe=function(){return{type:Y}},ge=function(){return{type:G}},ve=function(e){fetch("".concat(V,"users/resendlink/").concat(e)).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error(e.statusMsg);K.d.success(e.statusMsg,{autoClose:5e3})}),(function(e){throw new Error("Error: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return K.d.error(e.message)}))},Ne=function(e,t){return function(s){var n="Bearer "+localStorage.getItem("token");fetch("".concat(V,"users/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:n},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error(e.statusMsg);localStorage.setItem("userInfo",JSON.stringify(e.user)),s({type:$}),K.d.success(e.statusMsg)}),(function(e){throw new Error("Error update User: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return K.d.error(e.message)}))}},we=s(55),ye=s.n(we),ke=s(56),Ce=s.n(ke),Se=s(26);function Ee(e){var t=Object(E.b)(),s=function(s){var n;t((n=s.accessToken,function(e){fetch("".concat(V,"users/google/token"),{method:"GET",headers:{"Content-Type":"application/json",access_token:n}}).then((function(e){return e.json()})).then((function(t){if(!t.success)throw new Error(t.statusMsg);localStorage.setItem("token",t.token),localStorage.setItem("userInfo",JSON.stringify(t.userInfo)),e(fe(t)),e(oe()),setTimeout((function(){e(pe(t))}),3e3)})).catch((function(e){return console.log(e.message)}))})),e.closeForm()};return Object(k.jsxs)("div",{className:"d-flex justify-content-end social_icon",children:[Object(k.jsx)(ye.a,{appId:"1747851355551259",autoLoad:!1,callback:function(s){var n;t((n=s.accessToken,function(e){fetch("".concat(V,"users/facebook/token"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){return e.json()})).then((function(t){if(!t.success)throw new Error(t.statusMsg);localStorage.setItem("token",t.token),localStorage.setItem("userInfo",JSON.stringify(t.userInfo)),e(fe(t)),e(oe()),setTimeout((function(){e(pe(t))}),3e3)})).catch((function(e){return console.log(e.message)}))})),e.closeForm()},render:function(e){return Object(k.jsx)("span",{"data-for":"fbAuth","data-tip":"Login with Facebook",children:Object(k.jsx)("i",{onClick:e.onClick,className:"fa fa-facebook-square"})})}}),Object(k.jsx)(Se.a,{id:"fbAuth",delayHide:220,effect:"solid",type:"info"}),Object(k.jsx)(Ce.a,{clientId:"298984122139-49vss2p28pvntciijhscfqcn58ojfr6e.apps.googleusercontent.com",autoLoad:!1,onSuccess:s,onFailure:s,cookiePolicy:"single_host_origin",render:function(e){return Object(k.jsx)("span",{"data-for":"googleAuth","data-tip":"Login with Google",children:Object(k.jsx)("i",{onClick:e.onClick,className:"fa fa-google-plus-square"})})}}),Object(k.jsx)(Se.a,{id:"googleAuth",delayHide:220,effect:"solid",type:"info"}),Object(k.jsx)("span",{"data-for":"twitterAuth","data-tip":"Not supported yet",children:Object(k.jsx)("i",{className:"fa fa-twitter-square"})}),Object(k.jsx)(Se.a,{id:"twitterAuth",delayHide:220,effect:"solid",type:"error"}),Object(k.jsx)("span",{"data-for":"linkedinAuth","data-tip":"Not supported yet",children:Object(k.jsx)("i",{className:"fa fa-linkedin-square"})}),Object(k.jsx)(Se.a,{id:"linkedinAuth",delayHide:220,effect:"solid",type:"error"})]})}function Pe(e){var t=Object(E.c)((function(e){return e.auth})),s=Object(E.b)(),a=function(t){t.preventDefault();s(function(e,t){return function(s){fetch(V+"users/login",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(!e.success){var n=new Error(e.statusMsg);throw n.res=e,n}localStorage.setItem("token",e.token),localStorage.setItem("userInfo",JSON.stringify(e.userInfo)),s(fe(e)),t(),s(oe()),setTimeout((function(){s(pe(e))}),3e3)})).catch((function(e){return K.d.error(e.message)}))}}({username:t.target[0].value,password:t.target[1].value},(function(){e.toggleSignIn(),t.target.reset()})))};return Object(n.useEffect)((function(){null!==t.errMsg&&e.toggleSignIn()}),[t.errMsg]),Object(k.jsx)(P.a,{isOpen:e.isSignInOpen,toggle:e.toggleSignIn,contentClassName:"login-modal",children:Object(k.jsxs)("div",{className:"login-card",children:[Object(k.jsxs)("div",{className:"card-header",children:[Object(k.jsx)(_.a,{toggle:e.toggleSignIn,className:"text-primary mt-2",children:"Sign In"}),Object(k.jsx)(Ee,{closeForm:e.toggleSignIn})]}),Object(k.jsx)("div",{className:"card-body",children:Object(k.jsxs)("form",{onSubmit:function(e){return a(e)},children:[Object(k.jsxs)("div",{className:"input-group form-group",children:[Object(k.jsx)("div",{className:"input-group-prepend",children:Object(k.jsx)("span",{className:"input-group-text",children:Object(k.jsx)("i",{className:"fa fa-user"})})}),Object(k.jsx)("input",{type:"text",className:"form-control",placeholder:"username",required:!0,autoFocus:!0})]}),Object(k.jsxs)("div",{className:"input-group form-group",children:[Object(k.jsx)("div",{className:"input-group-prepend",children:Object(k.jsx)("span",{className:"input-group-text",children:Object(k.jsx)("i",{className:"fa fa-key"})})}),Object(k.jsx)("input",{type:"password",className:"form-control",placeholder:"password",required:!0})]}),Object(k.jsxs)("div",{className:"row align-items-center remember",children:[Object(k.jsx)("input",{type:"checkbox"}),"Remember Me"]}),Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("input",{type:"submit",value:"Login",className:"btn float-right login_btn"})})]})}),Object(k.jsxs)("div",{className:"card-footer",children:[Object(k.jsxs)("div",{className:"d-flex justify-content-center links",children:[Object(k.jsx)("p",{className:"mr-1",children:"Don't have an account? "}),Object(k.jsx)("span",{onClick:function(){e.toggleSignUp(),e.toggleSignIn()},children:"Sign Up"})]}),Object(k.jsx)("div",{className:"d-flex justify-content-center",children:Object(k.jsx)(j.b,{to:"/forgotpassword",children:"Forgot your password?"})})]})]})})}var _e=s(6),Ie=s(18);s(87);function Te(e,t){var s=new Date(e);return[{day:"numeric"},{month:"short"},{year:"numeric"}].map((function(e){return new Intl.DateTimeFormat("en",e).format(s)})).join(t)+" / "+s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}var Le=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ae=function(e){return!(e.length<6)||"Password should be at-least 6 characters."};var Me=function(e){var t=Object(E.b)(),s=Object(Ie.b)({mode:"all"}),n=s.register,a=s.handleSubmit,c=s.formState.errors;return Object(k.jsxs)(P.a,{id:"signup-form",style:{backgroundColor:"white"},isOpen:e.isSignupOpen,toggle:e.toggleSignUp,contentClassName:"login-modal p-3",children:[Object(k.jsx)(_.a,{toggle:e.toggleSignUp,className:"text-primary",children:"Sign Up"}),Object(k.jsx)(Ee,{closeForm:e.toggleSignUp}),Object(k.jsxs)("form",{onSubmit:a((function(s){var n,a;t((n=s,a=e.toggleSignUp,function(e){fetch(V+"users/signup",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error(e.statusMsg);var t=Object(k.jsxs)("div",{children:[Object(k.jsx)("h6",{children:e.statusMsg}),Object(k.jsx)("u",{onClick:function(){return ve(e.userId)},className:"d-flex justify-content-end",children:"Resend email"})]});K.d.success(t,{position:"top-center",transition:K.c,autoClose:!1}),a()}),(function(e){throw new Error("Error: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return K.d.error(e.message)}))}))})),children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"firstname",children:"First name"}),Object(k.jsx)("input",Object(_e.a)({name:"firstname",type:"text",placeholder:"First name",className:c.firstname?"form-control is-invalid":" form-control is-valid"},n("firstname",{required:"Required field",minLength:{value:3,message:"First name should have at least 3 caracters"},maxLength:{value:10,message:"First name should have at most 10 caracters"}}))),c.firstname&&Object(k.jsx)("div",{className:"invalid-feedback",children:c.firstname.message})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"lastname",children:"Last name"}),Object(k.jsx)("input",Object(_e.a)({name:"lastname",type:"text",placeholder:"Last name",className:c.lastname?"form-control is-invalid":" form-control is-valid"},n("lastname",{required:"Required field",minLength:{value:3,message:"Last name should have at least 3 caracters"},maxLength:{value:10,message:"Last name should have at most 10 caracters"}}))),c.lastname&&Object(k.jsx)("div",{className:"invalid-feedback",children:c.lastname.message})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email",children:"Email"}),Object(k.jsx)("input",Object(_e.a)({name:"email",type:"text",placeholder:"Email",className:c.email?"form-control is-invalid":" form-control is-valid"},n("email",{required:"Required field",pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Email is not valid."}}))),c.email&&Object(k.jsx)("div",{className:"invalid-feedback",children:c.email.message})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"phone",children:"Phone number"}),Object(k.jsx)("input",Object(_e.a)({name:"phone",type:"text",size:"20",minLength:"8",maxLength:"14",placeholder:"Phone number",className:c.phone?"form-control is-invalid":" form-control is-valid",onKeyPress:function(e){return/[0-9]/.test(e.key)?null:e.preventDefault()}},n("phone",{required:"Required field",minLength:{value:8,message:"Phone number should have at least 8 digits"},maxLength:{value:14,message:"Phone number should have at most 14 digits"}}))),c.phone&&Object(k.jsx)("div",{className:"invalid-feedback",children:c.phone.message})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"Username"}),Object(k.jsx)("input",Object(_e.a)({name:"username",type:"text",placeholder:"Username",className:c.username?"form-control is-invalid":" form-control is-valid"},n("username",{required:"Required field",minLength:{value:3,message:"Username should have at least 3 caracters"},maxLength:{value:10,message:"Username should have at most 10 caracters"}}))),c.username&&Object(k.jsx)("div",{className:"invalid-feedback",children:c.username.message})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"password",children:"Password"}),Object(k.jsx)("input",Object(_e.a)({name:"password",type:"password",placeholder:"Password",className:c.password?"form-control is-invalid":" form-control is-valid"},n("password",{required:"Required field",validate:Ae}))),c.password&&Object(k.jsx)("div",{className:"invalid-feedback",children:c.password.message})]}),Object(k.jsx)("div",{className:"form-group",children:c.firstname||c.lastname||c.email||c.username||c.password?Object(k.jsxs)("button",{type:"submit",className:"btn btn-danger btn-block",children:[Object(k.jsx)("i",{className:"fa fa-exclamation-circle","aria-hidden":"true"})," Error "]}):Object(k.jsxs)("button",{type:"submit",className:"btn btn-success btn-block",children:[Object(k.jsx)("i",{className:"fa fa-user-plus"})," Sign up "]})})]})]})},Fe=s(28),qe=(s(42),function(){return Object(k.jsx)("div",{className:"container py-4 my-4",children:Object(k.jsx)("div",{className:"row justify-content-center",children:Object(k.jsxs)("div",{className:"col-auto my-4",children:[Object(k.jsx)("span",{className:"fa fa-spinner fa-pulse fa-fw fa-3x text-primary"}),Object(k.jsx)("p",{children:"Loading..."})]})})})}),Ue=function(){return Object(k.jsx)("div",{id:"loader",className:""})};s(88),s(89);function De(e){var t=Object(n.useState)(""),s=Object(u.a)(t,2),a=s[0],c=s[1];if(!e.products)return Object(k.jsx)("p",{children:"Loading..."});var r=e.products.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));return Object(k.jsx)("div",{id:"search-container",children:Object(k.jsxs)("div",{className:"wrapper",children:[Object(k.jsxs)("div",{className:"search",children:[Object(k.jsx)("input",{id:"search",type:"search",value:a,placeholder:"Search a product by name...",onChange:function(e){return c(e.target.value)},onFocus:function(e){return e.target.parentNode.parentNode.classList.add("focus")},onBlur:function(e){return e.target.parentNode.parentNode.classList.remove("focus")},autoComplete:"off"}),Object(k.jsx)("i",{className:"fa fa-search"})]}),a.length>0&&r.length>0&&Object(k.jsx)("ul",{className:"list",children:r.map((function(e,t){return Object(k.jsx)(j.b,{to:"/products/".concat(e._id),children:Object(k.jsxs)("li",{className:t%2===0?"row bgLightGray mb-1":"row bgLight mb-1",children:[Object(k.jsx)("div",{className:"col-2",children:Object(k.jsx)("img",{className:"rounded",src:V+e.images[0],width:"50px",height:"50px",alt:e.name})}),Object(k.jsx)("div",{className:"d-flex align-items-center col-10",children:Object(k.jsx)("h6",{className:"mx-auto mx-md-0 text-uppercase",children:e.name})})]})},e._id)}))})]})})}var Re=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},Be=function(e,t,s){if(null!=t){t=function(e){var t,s=e.split(" "),n=s.length;if(n>1)t=s[0].substring(0,1)+s[n-1].substring(0,1);else{if(1!==n)return;t=s[0].substring(0,1)}return t.toUpperCase()}(t);var n=document.createElement("canvas"),a=n.getContext("2d");return n.width=n.height=e,a.fillStyle="#ffffff",a.fillRect(0,0,e,e),a.fillStyle="".concat(s,"50"),a.fillRect(0,0,e,e),a.fillStyle=s,a.textBaseline="middle",a.textAlign="center",a.font="".concat(e/2,"px Roboto"),a.fillText(t,e/2,e/2),n.toDataURL()}};var ze=function(){var e=Object(E.c)((function(e){return e})),t=e.auth,s=e.products.products,c=Object(E.b)(),r=Object(n.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(n.useState)(!1),g=Object(u.a)(d,2),v=g[0],N=g[1],w=Object(n.useState)(!1),y=Object(u.a)(w,2),C=y[0],P=y[1],_=function(){Object(Fe.confirmAlert)({customUI:function(e){var t=e.onClose;return Object(k.jsxs)("div",{className:"custom-ui",children:[Object(k.jsx)("h3",{children:"Are you sure?"}),Object(k.jsx)("p",{children:"You want to logout?"}),Object(k.jsx)("button",{onClick:t,children:"No, Cancel"}),Object(k.jsx)("button",{onClick:function(){c(xe()),t()},children:"Yes, Logout!"})]})}})};return Object(k.jsxs)(a.a.Fragment,{children:[t.isLoading?Object(k.jsx)(Ue,{}):null,Object(k.jsxs)(m.a,{id:"navArea",light:!0,expand:"md",children:[Object(k.jsx)(b.a,{id:"avatar-user",className:"login-btn-nav d-block d-md-none",navbar:!0,children:t.isAuthenticated?Object(k.jsxs)("div",{className:"nav-item avatar-mobile dropdown",children:[Object(k.jsxs)("button",{"data-toggle":"dropdown",className:"border-0 nav-link",style:{color:"white",backgroundColor:"transparent"},children:[Object(k.jsx)("img",{src:void 0!==t.user.avatar&&t.user.avatar.includes("http")?t.user.avatar:void 0!==t.user.avatar?V+t.user.avatar:Be(500,"".concat(t.user.firstname," ").concat(t.user.lastname),Re()),className:"rounded-circle avatar",width:"50px",height:"50px",alt:"Avatar"}),Object(k.jsx)("div",{children:Le(t.user.username.split("-")[0])})]}),Object(k.jsxs)("div",{className:"dropdown-menu",children:[Object(k.jsxs)("h6",{className:"dropdown-item",children:[" ",Le(t.user.firstname)+" "+Le(t.user.lastname),"  "]}),Object(k.jsxs)(j.b,{to:"/profile",className:"dropdown-item",children:[Object(k.jsx)("i",{className:"fa fa-user-o"})," Profile"]}),Object(k.jsx)("div",{className:"dropdown-divider"}),Object(k.jsxs)("button",{onClick:_,className:"dropdown-item",children:[t.isLoading?Object(k.jsx)("span",{className:"fa fa-spinner fa-pulse fa-fw mr-1"}):Object(k.jsx)("i",{className:"fa fa-power-off mr-1"}),"Logout"]})]})]}):null}),Object(k.jsx)(h.a,{className:"logo",href:"/",children:Object(k.jsx)("img",{src:"/assets/images/logo.png",alt:"Marketplace logo"})}),Object(k.jsx)(f.a,{onClick:function(){return l(!o)},className:"bg-primary"}),Object(k.jsxs)(p.a,{isOpen:o,navbar:!0,children:[Object(k.jsxs)(b.a,{className:"mx-auto",navbar:!0,children:[Object(k.jsx)(x.a,{className:"btn-outline-success rounded",onClick:function(){return l(!o)},children:Object(k.jsxs)(j.b,{to:"/home",className:"nav-link font-weight-bold",children:[Object(k.jsx)("span",{className:"fa fa-home"})," Home"]})}),Object(k.jsx)(x.a,{className:"btn-outline-success rounded",onClick:function(){return l(!o)},children:Object(k.jsxs)(j.b,{to:t.isAuthenticated?"/wishlist":"/",className:(t.isAuthenticated,"nav-link font-weight-bold"),onClick:t.isAuthenticated?null:function(){return P(!C)},children:[Object(k.jsx)("span",{className:"fa fa-bookmark"})," Wish List"]})}),Object(k.jsx)(x.a,{className:"d-none d-lg-block",children:Object(k.jsx)(De,{products:s})})]}),Object(k.jsx)(b.a,{id:"avatar-user",className:"login-btn-nav",navbar:!0,children:t.isAuthenticated?Object(k.jsxs)("div",{className:"nav-item dropdown d-none d-md-block",children:[Object(k.jsxs)("button",{"data-toggle":"dropdown",className:"border-0 nav-link",style:{color:"white",backgroundColor:"transparent"},children:[Object(k.jsx)("img",{src:void 0!==t.user.avatar&&t.user.avatar.includes("http")?t.user.avatar:void 0!==t.user.avatar?V+t.user.avatar:Be(500,"".concat(t.user.firstname," ").concat(t.user.lastname),Re()),className:"rounded-circle avatar",width:"50px",height:"50px",alt:"Avatar"})," "," ",Le(t.user.username.split("-")[0])]}),Object(k.jsxs)("div",{className:"dropdown-menu ml-n5",children:[Object(k.jsxs)("h6",{className:"dropdown-item",children:[" ",Le(t.user.firstname)+" "+Le(t.user.lastname),"  "]}),Object(k.jsxs)(j.b,{to:"/profile",className:"dropdown-item",children:[Object(k.jsx)("i",{className:"fa fa-user-o"})," Profile"]}),Object(k.jsx)("div",{className:"dropdown-divider"}),Object(k.jsxs)("button",{onClick:_,className:"dropdown-item",children:[t.isLoading?Object(k.jsx)("span",{className:"fa fa-spinner fa-pulse fa-fw mr-1"}):Object(k.jsx)("i",{className:"fa fa-power-off mr-1"}),"Logout"]})]})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(x.a,{className:"mr-2 order-12 order-md-1",onClick:function(){return l(!o)},children:[Object(k.jsx)(O.a,{className:"d-none d-md-block",id:"login-btn",outline:!0,color:"primary",onClick:function(){return N(!v)},children:Object(k.jsx)("span",{className:"fa fa-chevron-up fa-lg",children:" Signup "})}),Object(k.jsxs)("span",{onClick:function(){return N(!v)},className:"nav-link d-block d-md-none ml-0 py-1",children:[Object(k.jsx)("span",{className:"fa fa-chevron-up fa-lg"})," SignUp"]})]}),Object(k.jsxs)(x.a,{className:"order-1 order-md-12",onClick:function(){return l(!o)},children:[Object(k.jsx)(O.a,{className:"d-none d-md-block",id:"login-btn",outline:!0,color:"primary",onClick:function(){return P(!C)},children:t.isLoading?Object(k.jsx)("span",{className:"fa fa-spinner fa-pulse fa-fw"}):Object(k.jsx)("span",{className:"fa fa-sign-in fa-lg",children:" SignIn "})}),Object(k.jsxs)("span",{onClick:function(){return P(!C)},className:"nav-link d-block d-md-none ml-0",children:[Object(k.jsx)("span",{className:"fa fa-sign-in fa-lg"})," SignIn"]})]})]})})]})]}),Object(k.jsxs)("div",{className:"container-fluid pl-0 pr-0",style:{paddingTop:"0px"},children:[Object(k.jsx)(x.a,{className:"mx-auto px-1 my-auto d-block d-lg-none",style:{position:"relative",top:"96px",zIndex:"1"},children:Object(k.jsx)(De,{products:s})}),"/profile"!==window.location.pathname?Object(k.jsx)(S,{}):null]}),Object(k.jsx)(Pe,{isSignInOpen:C,toggleSignIn:function(){return P(!C)},toggleSignUp:function(){return N(!v)}}),Object(k.jsx)(Me,{isSignupOpen:v,toggleSignUp:function(){return N(!v)}})]})};s(90);var Je=function(){return Object(k.jsxs)("footer",{className:"footer",children:[Object(k.jsxs)("div",{className:"footer-left col-md-4 col-sm-6",children:[Object(k.jsxs)("p",{className:"about",children:[Object(k.jsx)("span",{children:" About the company"})," Ut congue augue non tellus bibendum, in varius tellus condimentum. In scelerisque nibh tortor, sed rhoncus odio condimentum in. Sed sed est ut sapien ultrices eleifend. Integer tellus est, vehicula eu lectus tincidunt, ultricies feugiat leo. Suspendisse tellus elit, pharetra in hendrerit ut, aliquam quis augue. Nam ut nibh mollis, tristique ante sed, viverra massa."]}),Object(k.jsxs)("div",{className:"icons",children:[Object(k.jsx)("a",{href:"facebook.com",children:Object(k.jsx)("i",{className:"fa fa-facebook"})}),Object(k.jsx)("a",{href:"twitter.com",children:Object(k.jsx)("i",{className:"fa fa-twitter"})}),Object(k.jsx)("a",{href:"linkedin.com",children:Object(k.jsx)("i",{className:"fa fa-linkedin"})}),Object(k.jsx)("a",{href:"google.com",children:Object(k.jsx)("i",{className:"fa fa-google-plus"})}),Object(k.jsx)("a",{href:"facebook.com/instagram",children:Object(k.jsx)("i",{className:"fa fa-instagram"})})]})]}),Object(k.jsxs)("div",{className:"footer-center col-md-4 col-sm-6",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("i",{className:"fa fa-map-marker"}),Object(k.jsxs)("p",{children:[Object(k.jsx)("span",{children:" Street name and number"})," City, Country"]})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("i",{className:"fa fa-phone"}),Object(k.jsx)("p",{children:" (+00) 0000 000 000"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("i",{className:"fa fa-envelope"}),Object(k.jsx)("p",{children:Object(k.jsx)("a",{href:"/home",children:" office@company.com"})})]})]}),Object(k.jsxs)("div",{className:"footer-right col-md-4 col-sm-6",children:[Object(k.jsx)("h2",{children:Object(k.jsxs)("span",{children:[" ",Object(k.jsx)("img",{src:"/assets/images/logo.png",width:"170px",alt:"Logo"})," "]})}),Object(k.jsxs)("p",{className:"menu",children:[Object(k.jsx)(j.b,{to:"/home",children:" Home"})," |",Object(k.jsx)(j.b,{to:"/about",children:" About"})," |",Object(k.jsx)(j.b,{to:"/menu",children:" Menu"})," |",Object(k.jsx)(j.b,{to:"/contact",children:" Contact"})]}),Object(k.jsx)("p",{className:"name",children:" The Way Shop \xa9 2021 "})]})]})};s(91);function He(e){var t=[{id:"01",feedback:"I found my car on TheWayShop for a good deal. I am satisfied with the service",name:"Sandra Louie"},{id:"02",feedback:"As a professional, I can sell quickly and easily on TheWayShop",name:"Brian Thomas"},{id:"03",feedback:"Now I can earn my pocket money thanks to TheWayShop!",name:"Angela Turatig"},{id:"04",feedback:"Lorem ipsum lorem ipsum lorem ipsum",name:"Sandra Donalla"}].filter((function(e,t){return t<=2})).map((function(e){return Object(k.jsx)("div",{className:"01"===e.id?"carousel-item active":"carousel-item",children:Object(k.jsx)("blockquote",{children:Object(k.jsx)("div",{className:"row d-flex justify-content-center",children:Object(k.jsxs)("div",{className:"col-sm-8 col-sm-offset-2",children:[Object(k.jsxs)("p",{children:[" ",e.feedback," "]}),Object(k.jsx)("small",{children:e.name})]})})})},e.id)}));return Object(k.jsx)("div",{className:"col-md-12 ","data-wow-delay":"0.2s",children:Object(k.jsxs)("div",{id:"quote-carousel",className:"carousel slide","data-ride":"carousel","data-interval":"2000",children:[Object(k.jsxs)("ol",{className:"carousel-indicators",children:[Object(k.jsx)("img",{"data-target":"#quote-carousel","data-slide-to":"0",className:"active",src:"/assets/testimonials-images/1.jpg",alt:"2"}),Object(k.jsx)("img",{"data-target":"#quote-carousel","data-slide-to":"1",src:"/assets/testimonials-images/2.jpg",alt:"3"}),Object(k.jsx)("img",{"data-target":"#quote-carousel","data-slide-to":"2",src:"/assets/testimonials-images/3.jpg",alt:"4"})]}),Object(k.jsx)("div",{className:"carousel-inner",children:t}),Object(k.jsxs)("a",{className:"carousel-control-prev xxx",href:"#quote-carousel",role:"button","data-slide":"prev",children:[Object(k.jsx)("i",{className:"fa fa-chevron-left xxx"}),Object(k.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(k.jsxs)("a",{className:"carousel-control-next xxx",href:"#quote-carousel",role:"button","data-slide":"next",children:[Object(k.jsx)("i",{className:"fa fa-chevron-right xxx"}),Object(k.jsx)("span",{className:"sr-only",children:"Next"})]})]})})}var We=s(17),Ye=s.n(We),Ge=(s(92),s(29)),$e=s.n(Ge);function Ve(e){var t=e.products.products.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),s=t.filter((function(e){return e.published}));Object(n.useEffect)((function(){window.$("#recentProductsSlideShow").carousel({interval:5e3}),Ye()("#recentProductsSlideShow.carousel .carousel-item").each((function(){var e=Ye()(this).next();e.length||(e=Ye()(this).siblings(":first")),e.children(":first-child").clone().appendTo(Ye()(this));for(var t=0;t<3;t++)(e=e.next()).length||(e=Ye()(this).siblings(":first")),e.children(":first-child").clone().appendTo(Ye()(this))}))}),[t]);var a=s.slice(0,9).map((function(e,t){return Object(k.jsx)("div",{className:0===t?"carousel-item active":"carousel-item",children:Object(k.jsx)("div",{className:"col-md-4 mb-3",children:Object(k.jsxs)("div",{className:"card",style:{height:"400px",minHeight:"400px"},children:[Object(k.jsx)("div",{children:Object(k.jsx)(j.b,{to:"/products/".concat(e._id,"/").concat($e()(e.name)),children:Object(k.jsx)("img",{className:"img-fluid",style:{height:"300px",maxHeight:"300px"},width:"100%",alt:e.name,src:V+e.images[0]})})}),Object(k.jsxs)("div",{className:"card-body",children:[Object(k.jsx)("h5",{className:"card-title text-center text-uppercase",children:e.name}),Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("p",{style:{fontSize:"14px"},className:"col-6 card-text text-muted",children:Te(e.createdAt,"-")}),Object(k.jsx)("p",{className:"col card-text text-right lead",children:"$"+e.price})]})]})]})})},e._id)}));return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("div",{className:"col-6",children:Object(k.jsx)("h3",{className:"text-info ml-3 most-recent-text",children:"Most Recent Products"})}),Object(k.jsxs)("div",{className:"col-6 text-right ml-n3",children:[Object(k.jsx)("a",{className:"btn btn-primary mb-3 mr-1",href:"#recentProductsSlideShow",role:"button","data-slide":"prev",children:Object(k.jsx)("i",{className:"fa fa-arrow-left"})}),Object(k.jsx)("a",{className:"btn btn-primary mb-3 ",href:"#recentProductsSlideShow",role:"button","data-slide":"next",children:Object(k.jsx)("i",{className:"fa fa-arrow-right"})})]})]}),Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col-12",children:Object(k.jsx)("div",{id:"recentProductsSlideShow",className:"carousel slide w-100","data-ride":"carousel",children:Object(k.jsx)("div",{className:"carousel-inner w-100",children:a})})})})]})}var Ke=s(57),Ze=s.n(Ke);s(93),s(94);var Qe=function(e){var t=Object(E.c)((function(e){return e.wishlist.wishlist})),s=t&&t.some((function(t){return t._id===e.productId})),n=Object(E.b)();return e.isAuthenticated?s?Object(k.jsx)("span",{onClick:function(){return n(me(e.productId))},className:"like fa fa-3x fa-heart"}):Object(k.jsx)("span",{onClick:function(){return n(je(e.productId))},className:"like fa fa-3x fa-heart-o"}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"like fa fa-3x fa-heart-o disabled","data-for":"infoForUsers","data-tip":"Please login to use this feature"}),Object(k.jsx)(Se.a,{id:"infoForUsers",delayHide:700,effect:"solid",type:"info"})]})};function Xe(e){var t=e.products.products.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),s=t.filter((function(e){return e.published})),c=e.authCheck,r=e.productsPerPage,i=Object(n.useState)(null),o=Object(u.a)(i,2),l=o[0],d=o[1],m=Object(n.useState)(0),b=Object(u.a)(m,2),h=b[0],f=b[1],p=Object(n.useState)(0),x=Object(u.a)(p,2),O=x[0],g=x[1];Object(n.useEffect)((function(){var e=O+r;d(s.slice(O,e)),f(Math.ceil(s.length/r))}),[O,r,t]);var v=l&&l.map((function(e){return Object(k.jsxs)("div",{className:"product-container col-12 col-sm-6 col-lg-4",children:[Object(k.jsx)("div",{className:"product-imgs-content",children:Object(k.jsxs)("div",{id:"product-"+e._id,className:"carousel slide carousel-fade",children:[Object(k.jsx)("ol",{className:"carousel-indicators",children:e.images.slice(0,4).map((function(t,s){return Object(k.jsx)("li",{"data-target":"#product-"+e._id,"data-slide-to":s,className:0===s?"active":null},e._id+s)}))}),Object(k.jsx)(j.b,{to:"/products/".concat(e._id,"/").concat($e()(e.name)),children:Object(k.jsx)("div",{className:"carousel-inner",children:e.images.slice(0,4).map((function(t,s){return Object(k.jsx)(a.a.Fragment,{children:0===s?Object(k.jsxs)("div",{className:"carousel-item active",children:[Object(k.jsx)("div",{className:"card-img-overlay text-center",children:Object(k.jsx)("i",{className:"text-light",children:Te(e.createdAt,"-")})}),Object(k.jsx)("img",{src:V+t,alt:e.title})]}):Object(k.jsx)("div",{className:"carousel-item",children:Object(k.jsx)("img",{src:V+t,alt:e.title})})},t)}))})})]})}),Object(k.jsxs)("div",{className:"title-price-like_content mb-5",children:[Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col-12 wishlist-button d-flex justify-content-end",children:Object(k.jsx)(Qe,{productId:e._id,isAuthenticated:c})})}),Object(k.jsx)("div",{className:"row title-price",children:Object(k.jsxs)("div",{className:"col-12",children:[Object(k.jsx)("span",{className:"text-uppercase",children:e.name}),Object(k.jsx)("span",{className:"float-right lead",children:"$"+e.price})]})})]}),Object(k.jsx)("div",{className:"call-seller-btn",children:Object(k.jsx)("div",{className:"col-12 d-flex justify-content-center",children:Object(k.jsxs)("a",{href:"tel:+900300400",className:"btn btn-outline-success btn-lg","data-toggle":"tooltip","data-placement":"top",title:"User Phone number will be here",children:[Object(k.jsx)("i",{className:"fa fa-phone","aria-hidden":"true"}),"Call Seller"]})})})]},e._id)}));return Object(k.jsxs)("div",{className:"container-fluid render-prod mt-5",children:[Object(k.jsx)("div",{className:"row",children:v}),Object(k.jsx)("div",{className:"",children:Object(k.jsx)("div",{className:"col-12 d-flex justify-content-center",children:Object(k.jsx)(Ze.a,{pageCount:h,onPageChange:function(e){var t=e.selected*r%s.length;g(t)},previousLabel:"<",nextLabel:">",disabledClassName:"disabledBtn",breakLabel:"",breakClassName:"break-me",marginPagesDisplayed:1,pageRangeDisplayed:5,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active",renderOnZeroPageCount:null})})})]})}var et=function(e){var t=Object(E.c)((function(e){return e})),s=t.products,n=t.auth;return Object(k.jsxs)("div",{className:"container-fluid px-4",children:[Object(k.jsx)("div",{className:"row mt-5",children:Object(k.jsx)("div",{className:"col",children:s.loading?Object(k.jsx)(qe,{}):s.errMsg?Object(k.jsx)("h5",{className:"text-danger",children:s.errMsg}):Object(k.jsx)(Ve,{products:s})})}),Object(k.jsx)("hr",{}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"row",children:s.loading?Object(k.jsx)(qe,{}):s.errMsg?Object(k.jsx)("h5",{className:"text-danger",children:s.errMsg}):Object(k.jsxs)(k.Fragment,{children:["   ",Object(k.jsx)("h3",{className:"text-info mx-auto",children:"All Products"}),Object(k.jsx)(Xe,{products:s,authCheck:n.isAuthenticated,productsPerPage:9})," "]})}),Object(k.jsx)("hr",{}),Object(k.jsx)("br",{}),Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col",children:[Object(k.jsx)("h3",{className:"text-info text-center",children:"See What Our Customers Think About Us"}),Object(k.jsx)(He,{})]})})]})},tt=(s(95),s(118)),st=s(119),nt=s(120),at=s(121),ct=s(122);s(96);function rt(e){var t=Object(E.c)((function(e){return e.comments})),s=Object(E.c)((function(e){return e.auth})),a=t.comments.filter((function(t){return t.product_id===e.productId})),c=Object(E.b)(),r=Object(Ie.b)({mode:"all"}),i=r.register,o=r.handleSubmit,l=r.formState.errors,d=Object(n.useState)(""),j=Object(u.a)(d,2),m=j[0],b=j[1];Object(n.useEffect)((function(){Ye()("#edit-comment-form :input").on("change",(function(){Ye()("#edit-comment-form").data("changed",!0)}))}));var h=function(e,t){var s={comment:t.target[0].value};Ye()("#edit-comment-form").data("changed")?(c(function(e,t){return function(s){var n="Bearer "+localStorage.getItem("token");fetch("".concat(V,"comments/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json",Authorization:n},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Comment could not be updated:\n "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error update Comment: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(){return s(Z())})).catch((function(e){return s(ee(e.message))}))}}(e,s)),b("")):console.log("Nothing was edited in the form fields, I'm not gonna bother the server"),b("")},f=function(e){Object(Fe.confirmAlert)({customUI:function(t){var s=t.onClose;return Object(k.jsxs)("div",{className:"custom-ui",children:[Object(k.jsx)("h3",{children:"Are you sure?"}),Object(k.jsx)("p",{className:"text-danger",children:"You want to delete this comment?"}),Object(k.jsx)("button",{onClick:s,children:"No, Cancel"}),Object(k.jsx)("button",{className:"text-danger",onClick:function(){c(function(e){return function(t){var s="Bearer "+localStorage.getItem("token");fetch("".concat(V,"comments/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){if(e.ok)return e;throw new Error("Error "+e.status+" "+e.statusText)}),(function(e){throw new Error("Error delete Comment: "+e.message+" (Cannot connect to the server)")})).then((function(e){return e.json()})).then((function(){return t(Z())})).catch((function(e){alert("Your comment couldn't be deleted\n"+e.message)}))}}(e)),s()},children:"Yes, Delete!"})]})}})},p=a.map((function(e,t){return Object(k.jsxs)("div",{style:{minWidth:"100%"},className:t%2===0?"comment mt-4 text-justify float-left":"comment mt-4 text-justify float-left bg-transparent",children:[Object(k.jsxs)("div",{className:"row mb-3",children:[Object(k.jsxs)("div",{className:"col-12 col-md-8 col-sm-12 d-flex justify-content-md-start justify-content-center",children:[Object(k.jsx)("img",{src:void 0!==e.user.avatar&&e.user.avatar.includes("http")?e.user.avatar:void 0!==e.user.avatar?V+e.user.avatar:Be(500,"".concat(e.user.firstname," ").concat(e.user.lastname),Re()),className:"rounded-circle",width:"50",height:"50",alt:e.user.firstname}),Object(k.jsxs)("h5",{className:"text-capitalize",children:[" ",e.user.firstname," ",e.user.lastname," "]})]}),Object(k.jsx)("div",{className:"col-12 col-md-4 col-sm-12 d-flex justify-content-md-end justify-content-center",children:Object(k.jsxs)("small",{className:t%2===0?"text-light":"text-dark",children:[" ",Te(e.createdAt,"-")," "]})})]}),Object(k.jsx)("hr",{}),m===e._id?Object(k.jsxs)(tt.a,{id:"edit-comment-form",className:"col",onSubmit:function(t){return h(e._id,t)},children:[Object(k.jsx)(st.a,{className:"mx-n5 pr-2",children:Object(k.jsx)("textarea",{rows:4,cols:33,autoFocus:!0,name:"updatedComment",id:"updatedComment",defaultValue:e.comment,className:"form-control"})}),Object(k.jsx)(st.a,{className:"d-flex justify-content-end mb-0 mr-n3",children:Object(k.jsxs)("div",{className:"btn-group",children:[Object(k.jsx)("button",{type:"submit",className:"btn btn-success btn-xs",title:"Done",children:Object(k.jsx)("span",{className:"fa fa-check-circle-o"})}),Object(k.jsx)("button",{onClick:function(){return b("")},type:"button",className:"btn btn-danger btn-xs",title:"Cancel",children:Object(k.jsx)("span",{className:"fa fa-window-close"})})]})})]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("p",{children:[" ",e.comment," "]})}),Object(k.jsx)("div",{className:"d-flex justify-content-end",children:s.user.username===e.user.username?Object(k.jsxs)("div",{className:"btn-group",children:[Object(k.jsx)("button",{onClick:function(){return b(e._id)},type:"button",className:"btn btn-primary btn-xs",title:"Edit",children:Object(k.jsx)("span",{className:"fa fa-pencil"})}),Object(k.jsx)("button",{onClick:function(){return f(e._id)},type:"button",className:"btn btn-danger btn-xs",title:"Delete",children:Object(k.jsx)("span",{className:"fa fa-trash"})})]}):null})]})]},e._id)}));return t.loading?Object(k.jsx)(qe,{}):t.errMsg?Object(k.jsx)("h5",{className:"text-danger",children:t.errMsg}):Object(k.jsxs)("div",{id:"comment-form-and-comments",children:[Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col-12",children:Object(k.jsx)(tt.a,{onSubmit:o((function(t,s){c(te(e.productId,t.comment)),s.target.reset()})),children:Object(k.jsx)(nt.a,{children:Object(k.jsxs)(at.a,{children:[Object(k.jsxs)(st.a,{children:[Object(k.jsxs)(ct.a,{for:"comment",className:"comment-label",children:["Comments ",Object(k.jsx)("span",{className:"badge badge-dark",children:a.length})]}),Object(k.jsx)("textarea",Object(_e.a)({rows:6,cols:33,name:"comment",placeholder:"Wtite a comment",className:l.comment?"form-control is-invalid":" form-control is-valid"},i("comment",{required:"Required field",minLength:{value:3,message:"Comment should have at least 3 caracters"},maxLength:{value:150,message:"Comment should have at most 150 caracters"}}))),l.comment&&Object(k.jsx)("div",{className:"invalid-feedback",children:l.comment.message})]}),Object(k.jsx)(st.a,{className:"d-flex justify-content-end",children:Object(k.jsxs)(O.a,{type:"submit",value:"Submit Comment",className:"btn btn-success",disabled:!(!l.comment&&s.isAuthenticated),children:[Object(k.jsx)("i",{className:"fa fa-paper-plane","aria-hidden":"true"})," Submit Comment"]})})]})})})})}),Object(k.jsx)("hr",{}),Object(k.jsx)("br",{}),a.length>0?Object(k.jsx)("div",{className:"row comment-container mx-1 mx-md-0",children:Object(k.jsx)("div",{className:"col-12 p-1 p-md-5",children:p})}):Object(k.jsx)("h6",{className:"text-center",children:"There is no comment yet, be the first"})]})}var it=s(15);var ot=function(){var e=Object(it.h)(),t=Object(E.c)((function(e){return e})),s=t.products.products.filter((function(t){return t._id===e.productId}))[0],n=t.auth;return t.products.loading?Object(k.jsx)(qe,{}):null!==t.products.errMsg?Object(k.jsxs)("h3",{className:"text-danger text-center",children:[" ",t.errMsg," "]}):(document.title=s.name,Object(k.jsxs)("div",{className:"container",id:"product-detail",children:[Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"card ",children:Object(k.jsx)("div",{className:"container-fliud",children:Object(k.jsxs)("div",{className:"wrapper row",children:[Object(k.jsxs)("div",{className:"preview col-md-6",children:[Object(k.jsx)("div",{className:"preview-pic tab-content",children:s.images.map((function(e,t){return Object(k.jsx)("div",{className:0===t?"tab-pane active":"tab-pane",id:"pic-"+t,children:Object(k.jsx)("img",{src:V+e,alt:s.name})},"preview-pic-"+t)}))}),Object(k.jsx)("ul",{className:"preview-thumbnail nav nav-tabs",children:s.images.map((function(e,t){return Object(k.jsx)("li",{className:0===t?"active":null,children:Object(k.jsx)("a",{"data-target":"#pic-"+t,"data-toggle":"tab",children:Object(k.jsx)("img",{src:V+e,alt:s.name})})},"thumbnail-"+t)}))})]}),Object(k.jsxs)("div",{className:"details col-md-6",children:[Object(k.jsx)("h3",{className:"product-title text-uppercase",children:s.name}),Object(k.jsxs)("h6",{className:"text-muted",children:["Posted at: ",Te(s.createdAt,"-")]}),Object(k.jsx)("p",{className:"product-description",children:s.description}),Object(k.jsxs)("h4",{className:"price",children:["price: ",Object(k.jsxs)("span",{children:["$ ",s.price]})]}),Object(k.jsxs)("div",{className:"action",children:[Object(k.jsxs)("a",{href:"tel:+900300400",className:"call-seller btn btn-default mr-3","data-toggle":"tooltip","data-placement":"top",title:"User Phone number will be here",type:"button",children:[Object(k.jsx)("i",{className:"fa fa-phone","aria-hidden":"true"})," Call Seller"]}),Object(k.jsx)("i",{style:{position:"absolute",bottom:"7px"},children:Object(k.jsx)(Qe,{isAuthenticated:n.isAuthenticated,productId:s._id})})]})]})]})})})}),Object(k.jsx)(rt,{productId:s._id,authCheck:n})]}))};s(97);function lt(e){var t=Object(E.c)((function(e){return e.wishlist})),s=Object(E.b)();if(t.loading)return Object(k.jsx)(qe,{});if(t.errMsg)return Object(k.jsx)("h5",{className:"text-danger",children:t.errMsg});var n=t.wishlist&&t.wishlist.length>0?t.wishlist.map((function(e,t){return Object(k.jsxs)("div",{id:"wish-list-items",className:t%2===0?"row bgLightGray mb-2 p-2":"row bgLight mb-2 p-2",children:[Object(k.jsxs)("div",{className:"d-flex align-items-center justify-content-center col-12 col-md-2",children:[Object(k.jsx)("img",{className:"rounded",src:V+e.images[0],width:"100%",height:"110px",alt:e.name}),Object(k.jsx)(j.b,{to:"/products/".concat(e._id,"/").concat($e()(e.name)),children:Object(k.jsx)("div",{id:"wishlist-view-product",className:"card-img-overlay d-flex justify-content-center align-items-center",children:Object(k.jsx)("i",{className:"fa fa-eye fa-4x","aria-hidden":"true"})})})]}),Object(k.jsx)("div",{className:"d-flex align-items-center col-12 col-md-3 mt-3 mt-md-0",children:Object(k.jsx)("h4",{className:"mx-auto mx-md-0 text-uppercase",children:e.name})}),Object(k.jsx)("div",{className:"d-flex align-items-center col-12 col-md-6",children:Object(k.jsx)("div",{className:"limi-text-wishlist-description",children:e.description})}),Object(k.jsx)("div",{className:"d-flex align-items-center justify-content-center col-12 col-md-1 mt-3 mt-md-0",children:Object(k.jsx)("button",{onClick:function(){return s(me(e._id))},className:"fa fa-trash fa-lg mb-1 text-danger",style:{border:"unset",backgroundColor:"unset"}})})]},e._id)})):Object(k.jsx)("h5",{className:"text-info text-center my-5",children:"Your wish list is empty"});return Object(k.jsx)("div",{className:"container mt-5",children:n})}var dt=s(125),ut=s(126),jt=s(127),mt=s(5),bt=s.n(mt),ht=s(38);function ft(e){var t=Object(E.c)((function(e){return e.auth.user})),s=Object(E.b)(),a=Object(Ie.b)({mode:"all"}),c=a.register,r=a.handleSubmit,i=a.formState.errors,o=Object(n.useState)({pwd_1:"",pwd_2:""}),l=Object(u.a)(o,2),d=l[0],j=l[1],m=Object(n.useState)(!1),b=Object(u.a)(m,2),h=b[0],f=b[1];return Object(n.useEffect)((function(){Ye()(document).ready((function(){Ye()(".file-upload").on("change",(function(){!function(e){if(e.files&&e.files[0]){var t=new FileReader;t.onload=function(e){Ye()(".profile-pic").attr("src",e.target.result)},t.readAsDataURL(e.files[0])}}(this)})),Ye()(".upload-button").on("click",(function(){Ye()(".file-upload").click()}))}))})),Object(k.jsx)("div",{id:"profile-setting",className:"container rounded mb-5",children:Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col border-right",children:Object(k.jsxs)("div",{className:"p-3 py-5",children:[Object(k.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:Object(k.jsx)("h4",{className:"mx-auto mx-md-1 text-capitalize",children:t.firstname+" "+t.lastname})}),Object(k.jsxs)("form",{onSubmit:r((function(e){if(d.pwd_1===d.pwd_2){var n=Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(u.a)(e,2),s=t[0];return""!==t[1]&&"avatar"!==s})));if(e.avatar.length>0){var a=e.avatar[0],c=new File([a],"".concat(Object(ht.v4)(),".").concat(a.type.split("/")[1]),{type:a.type});n.avatar="avatars/"+c.name;var r=new FormData;r.append("avatar",c),s(be(r,"uploadavatar")),s(he([t.avatar]))}Object.keys(n).length>0?s(Ne(t._id,n)):alert("Fields are empty")}else alert("Password do not match")})),children:[Object(k.jsxs)("div",{className:"avatar-wrapper",children:[Object(k.jsx)("img",{src:void 0!==t.avatar?V+t.avatar:Be(500,"".concat(t.firstname," ").concat(t.lastname),Re()),className:"profile-pic",alt:"avatar"}),Object(k.jsx)("div",{className:"upload-button",children:Object(k.jsx)("i",{className:"fa fa-arrow-circle-up","aria-hidden":"true"})}),Object(k.jsx)("input",Object(_e.a)({style:{display:"none"},name:"avatar",className:"file-upload",type:"file",accept:"image/*"},c("avatar")))]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",Object(_e.a)({placeholder:t.username,style:{width:"170px"},name:"username",type:"text",className:"form-control mx-auto mt-n4"},c("username",{minLength:{value:3,message:"Username should have at least 3 caracters"},maxLength:{value:10,message:"Username should have at most 10 caracters"}}))),i.username&&Object(k.jsx)("div",{className:"text-danger text-center",children:Object(k.jsx)("small",{children:i.username.message})})]}),Object(k.jsxs)("div",{className:"form-row mt-5 mb-3",children:[Object(k.jsx)("div",{className:"col-12 col-md-6",children:Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{className:"labels",children:"First name"}),Object(k.jsx)("input",Object(_e.a)({placeholder:t.firstname,name:"firstname",type:"text",className:"form-control"},c("firstname",{minLength:{value:3,message:"First name should have at least 3 caracters"},maxLength:{value:10,message:"First name should have at most 10 caracters"}}))),i.firstname&&Object(k.jsx)("div",{className:"text-danger",children:Object(k.jsx)("small",{children:i.firstname.message})})]})}),Object(k.jsx)("div",{className:"col-12 col-md-6",children:Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{className:"labels",children:"Last name"}),Object(k.jsx)("input",Object(_e.a)({placeholder:t.lastname,name:"lastname",type:"text",className:"form-control"},c("lastname",{minLength:{value:3,message:"Last name should have at least 3 caracters"},maxLength:{value:10,message:"Last name should have at most 10 caracters"}}))),i.lastname&&Object(k.jsx)("div",{className:"text-danger",children:Object(k.jsx)("small",{children:i.lastname.message})})]})})]}),Object(k.jsxs)("div",{className:"form-row",children:[Object(k.jsx)("div",{className:"col-12 col-md-6",children:Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{className:"labels",children:"Phone Number"}),Object(k.jsx)("input",Object(_e.a)({placeholder:t.phone,name:"phone",type:"text",className:"form-control",onKeyPress:function(e){return/[0-9]/.test(e.key)?null:e.preventDefault()}},c("phone",{minLength:{value:8,message:"Phone should have at least 8 caracters"},maxLength:{value:14,message:"Phone should have at most 14 caracters"}}))),i.phone&&Object(k.jsx)("div",{className:"text-danger",children:Object(k.jsx)("small",{})})]})}),Object(k.jsx)("div",{className:"col-12 col-md-6",children:Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{className:"labels",children:"Email"}),Object(k.jsx)("input",Object(_e.a)({placeholder:t.email,name:"email",type:"text",className:"form-control"},c("email",{pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Email is not valid."}}))),i.email&&Object(k.jsx)("div",{className:"text-danger",children:Object(k.jsx)("small",{children:i.email.message})})]})})]}),Object(k.jsx)("span",{className:"nav-link",onClick:function(){return f(!h)},children:Object(k.jsx)("ins",{children:"Change password"})}),h?Object(k.jsxs)("div",{className:"form-row mt-3",children:[Object(k.jsx)("div",{className:"col-12",children:Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{className:"labels",children:"Current password"}),Object(k.jsx)("input",Object(_e.a)(Object(_e.a)({type:"password"},c("currentpwd")),{},{name:"currentpwd",className:"form-control",placeholder:"type current password",required:!0}))]})}),Object(k.jsx)("div",{className:"col-12 col-md-6",children:Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{className:"labels",children:"New password"}),Object(k.jsx)("input",Object(_e.a)(Object(_e.a)({type:"password",name:"newpassword",className:"form-control",placeholder:"type new password"},c("newpassword",{validate:Ae})),{},{onChange:function(e){return j(Object(_e.a)(Object(_e.a)({},d),{},{pwd_1:e.target.value}))}})),i.newpassword&&Object(k.jsx)("div",{className:"text-danger",children:Object(k.jsx)("small",{children:i.newpassword.message})})]})}),Object(k.jsx)("div",{className:"col-12 col-md-6",children:Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{className:"labels",children:"Retype new password"}),Object(k.jsx)("input",{onChange:function(e){return j(Object(_e.a)(Object(_e.a)({},d),{},{pwd_2:e.target.value}))},type:"password",className:"form-control",placeholder:"retype new password"}),d.pwd_2&&d.pwd_1!==d.pwd_2?Object(k.jsx)("div",{className:"text-danger",children:Object(k.jsx)("small",{children:"Password do not match"})}):null]})})]}):null,Object(k.jsx)("div",{className:"mt-5 text-center",children:Object(k.jsx)("button",{className:"btn btn-primary profile-button",type:"submit",children:"Save Changes"})})]})]})})})})}var pt=s(123),xt=s(131);function Ot(e){var t=Object(E.c)((function(e){return e.auth.user._id})),s=Object(E.b)(),a=Object(n.useState)(),c=Object(u.a)(a,2),r=c[0],i=c[1],o=Object(Ie.b)(),l=o.control,d=o.handleSubmit,j=Object(n.useRef)(),m=function(e){var t=new FileReader;return new Promise((function(s,n){t.addEventListener("load",(function(e){var n=document.createElement("div"),a=document.createElement("img");a.src=t.result,a.setAttribute("class","m-1 rounded img-preview"),n.appendChild(a),s(n)})),t.addEventListener("error",(function(e){n()})),t.readAsDataURL(e)}))},b=function(e){for(;e.childElementCount;)e.removeChild(e.children[0])},h=function(e){e.preventDefault();for(var t,s,n=[];n.length;)n.pop();Array.from(e.target.files).map((function(e){return n.push(e)})),t=n,s=j.current,b(s),Promise.all(t.map(m)).then((function(e){return e.map((function(e,t){return e.setAttribute("index",t),s.appendChild(e)}))})),i(n)};return Object(k.jsxs)(tt.a,{id:"post-product-form",className:"py-5",onSubmit:d(e.targetProduct?function(t,n){n.preventDefault();var a=Object.fromEntries(Object.entries(t).filter((function(e){var t=Object(u.a)(e,2);t[0];return void 0!==t[1]})));Object.keys(a).length>0?s(ie(e.targetProduct._id,a)):K.d.info("Nothing was edited")}:function(e,n){n.preventDefault();var a=new FormData,c=[];if(Object.keys(r).length<=8){for(var o=0,l=Object.keys(r);o<l.length;o++){var d=l[o],u=r[d],m=new File([u],"".concat(Object(ht.v4)(),"-").concat(t,".").concat(u.type.split("/")[1]),{type:u.type});c.push(m),a.append("images",c[d])}e.images=c,s(re(e,a,(function(){n.target.reset(),b(j.current),i()})))}else document.getElementById("alertMsg").innerHTML='<div class="alert alert-danger alert-dismissible fade show" role="alert"> You could not upload more than 8 pictures. <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>'}),children:[Object(k.jsx)("div",{className:"mb-3 mx-auto",id:"alertMsg"}),Object(k.jsxs)(nt.a,{children:[Object(k.jsxs)(at.a,{md:!0,lg:e.targetProduct?12:6,children:[Object(k.jsxs)(st.a,{children:[Object(k.jsx)(ct.a,{for:"productName",children:"Name"}),Object(k.jsx)(Ie.a,{control:l,name:"name",render:function(t){var s=t.field;return Object(k.jsx)(pt.a,{placeholder:"Product name",onChange:function(e){return s.onChange(e)},required:!0,defaultValue:e.targetProduct?e.targetProduct.name:null})}})]}),Object(k.jsxs)(st.a,{children:[Object(k.jsx)(ct.a,{for:"productPrice",children:"Price"}),Object(k.jsx)(Ie.a,{control:l,name:"price",render:function(t){var s=t.field;return Object(k.jsx)(pt.a,{onKeyPress:function(e){return/[0-9 .]/.test(e.key)?null:e.preventDefault()},placeholder:"Product price",onChange:function(e){return s.onChange(e)},required:!0,defaultValue:e.targetProduct?e.targetProduct.price:null})}})]}),Object(k.jsxs)(st.a,{children:[Object(k.jsx)(ct.a,{for:"productDescription",children:"Description"}),Object(k.jsx)(Ie.a,{control:l,name:"description",render:function(t){var s=t.field;return Object(k.jsx)(pt.a,{type:"textarea",placeholder:"Product description",onChange:function(e){return s.onChange(e)},rows:"8",required:!0,defaultValue:e.targetProduct?e.targetProduct.description:null})}})]})]}),e.targetProduct?Object(k.jsx)(pt.a,{type:"submit",value:"Update Product",className:" w-50 mx-auto btn btn-outline-warning"}):Object(k.jsxs)(at.a,{md:!0,lg:6,children:[Object(k.jsx)(nt.a,{children:Object(k.jsx)(at.a,{children:Object(k.jsxs)(st.a,{children:[Object(k.jsx)(ct.a,{for:"productImage",children:"Product image "}),Object(k.jsx)(Ie.a,{control:l,name:"images",render:function(t){var s=t.field;return Object(k.jsx)(xt.a,{type:"file",accept:"images/*",multiple:!0,onChange:function(e){h(e),s.onChange(e)},label:"Choose some images (Max: 8 images)",id:"images",style:{cursor:"pointer"},required:!e.targetProduct})}})]})})}),Object(k.jsx)(nt.a,{children:Object(k.jsxs)(at.a,{className:"border mb-2 p-3",style:{height:"357px"},children:[void 0!==r?null:Object(k.jsx)("img",{alt:"imagePlaceholder",height:"95%",width:"95%",className:"img-prev",src:"https://montverde.org/wp-content/themes/eikra/assets/img/noimage-420x273.jpg"}),Object(k.jsx)("div",{className:"row border",ref:j})]})}),Object(k.jsx)(nt.a,{children:Object(k.jsx)(at.a,{children:e.targetProduct?null:Object(k.jsx)(pt.a,{type:"submit",value:"Post Product",className:"btn btn-outline-dark"})})})]})]})]})}var gt=s(124);function vt(e){var t=Object(E.c)((function(e){return e})),s=Object(E.b)(),a=t.products,c=t.products.products.filter((function(e){return e.user===t.auth.user._id})),r=Object(n.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],d=function(){return l(!o)},m=Object(n.useState)(null),b=Object(u.a)(m,2),h=b[0],f=b[1],p=function(e,t){Object(Fe.confirmAlert)({customUI:function(n){var a=n.onClose;return Object(k.jsxs)("div",{className:"custom-ui",children:[Object(k.jsx)("h3",{children:"Are you sure?"}),Object(k.jsx)("p",{className:"text-danger",children:"You want to delete this product?"}),Object(k.jsx)("button",{onClick:a,children:"No, Cancel"}),Object(k.jsx)("button",{className:"text-danger",onClick:function(){s(function(e){return function(t){var s="Bearer "+localStorage.getItem("token");fetch(V+"products/"+e,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:s},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error("Product could not be deleted");t(se()),K.d.success(e.statusMsg)}),(function(e){throw new Error("Error: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return K.d.error(e.message)}))}}(e)),s(he(t)),a()},children:"Yes, Delete!"})]})}})};return Object(k.jsxs)("div",{className:"container",children:[Object(k.jsxs)("div",{className:"row bg-dark py-3 mb-3 d-none d-md-flex",children:[Object(k.jsx)("div",{className:"col-3 border-right",children:Object(k.jsx)("h6",{className:"text-center text-light",children:"Product image"})}),Object(k.jsx)("div",{className:"col-3 border-right",children:Object(k.jsx)("h6",{className:"text-center text-light",children:"Product name"})}),Object(k.jsx)("div",{className:"col-3 border-right",children:Object(k.jsx)("h6",{className:"text-center text-light",children:"Status"})}),Object(k.jsx)("div",{className:"col-3",children:Object(k.jsx)("h6",{className:"text-center text-light",children:"Edit/Delete/View"})})]}),a.loading?Object(k.jsx)(qe,{}):null!==a.errMsg?Object(k.jsxs)("h3",{className:"text-danger text-center",children:[" ",a.errMsg," "]}):0===c.length?Object(k.jsxs)("div",{children:[Object(k.jsx)("h6",{className:"text-info text-center p-2",children:' Your Products Box is Empty! Thank You To Post Your First Product Now By Clicking On "Post new product" Tab.'}),Object(k.jsx)("div",{className:"p-3 text-center",children:Object(k.jsx)("img",{className:"img-fluid",src:"/assets/images/empty.gif",alt:"empty"})})]}):c.map((function(e){return Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"row d-flex align-items-center",children:[Object(k.jsx)("div",{className:"col-12 col-md-2 border-right d-flex justify-content-center",children:Object(k.jsx)("img",{className:"rounded responsive-image",src:V+e.images[0],width:"100%",height:"100px",alt:e.name})}),Object(k.jsx)("div",{className:"col-12 col-md-4 border-right d-flex justify-content-center",children:Object(k.jsx)("p",{className:"text-uppercase",children:e.name})}),Object(k.jsx)("div",{id:"publish-unpublish",className:"col-12 col-md-3 d-flex justify-content-center align-itmes-center",children:Object(k.jsxs)("label",{className:"switch",children:[Object(k.jsx)("input",{onChange:function(){return t=e._id,n=!e.published,void s(ie(t,{published:n}));var t,n},defaultChecked:e.published,type:"checkbox",className:"switch-input"}),Object(k.jsx)("span",{className:"switch-label","data-on":"Published","data-off":"Unpublished"}),Object(k.jsx)("span",{className:"switch-handle"})]})}),Object(k.jsx)("div",{className:"col-12 col-md-3 d-flex justify-content-center",children:Object(k.jsxs)("div",{className:"row",children:[Object(k.jsx)("button",{onClick:function(){f(e),d()},className:"col-4 border-right fa fa-pencil btn btn-warning"}),Object(k.jsx)("button",{onClick:function(){return p(e._id,e.images)},className:"col-4 border-right fa fa-trash btn btn-danger"}),Object(k.jsx)(j.b,{to:"/products/".concat(e._id),className:"col-4 fa fa-eye btn btn-success"})]})})]}),Object(k.jsx)("hr",{})]},e._id)})),Object(k.jsx)("div",{style:{zIndex:"9888"},children:Object(k.jsxs)(P.a,{id:"update-plate-model",backdrop:!0,isOpen:o,modalTransition:{timeout:600},backdropTransition:{timeout:200},toggle:d,children:[Object(k.jsx)(_.a,{toggle:d,children:Object(k.jsxs)("span",{children:["Updating ",Object(k.jsx)("span",{className:"text-warning",children:h?h.name:null})]})}),Object(k.jsx)(gt.a,{className:"py-3",children:Object(k.jsx)(Ot,{targetProduct:h,updateProduct:e.updateProduct})})]})})]})}s(100);function Nt(e){var t=Object(n.useState)("1"),s=Object(u.a)(t,2),a=s[0],c=s[1],r=function(e){a!==e&&c(e)};return Object(k.jsxs)("div",{id:"user-profile",className:"container",children:[Object(k.jsxs)(nt.a,{className:"nav-tabs",children:[Object(k.jsx)(at.a,{className:"col-12 col-sm-4 nav-item bg-warning border-right",children:Object(k.jsx)(dt.a,{className:bt()({active:"1"===a}),onClick:function(){r("1")},children:Object(k.jsx)("h6",{className:"text-center",children:"Profile Setting"})})}),Object(k.jsx)(at.a,{className:"col-12 col-sm-4 nav-item bg-warning border-right",children:Object(k.jsx)(dt.a,{className:bt()({active:"2"===a}),onClick:function(){r("2")},children:Object(k.jsx)("h6",{className:"text-center",children:"My Products"})})}),Object(k.jsx)(at.a,{className:"col-12 col-sm-4 nav-item bg-warning",children:Object(k.jsx)(dt.a,{className:bt()({active:"3"===a}),onClick:function(){r("3")},children:Object(k.jsx)("h6",{className:"text-center",children:"Post new product"})})})]}),Object(k.jsxs)(ut.a,{activeTab:a,children:[Object(k.jsx)(jt.a,{tabId:"1",children:Object(k.jsx)(ft,{})}),Object(k.jsx)(jt.a,{tabId:"2",children:Object(k.jsxs)(nt.a,{children:[Object(k.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:Object(k.jsx)("h4",{className:"text-right m-3",children:"My products"})}),Object(k.jsx)(vt,{})]})}),Object(k.jsx)(jt.a,{tabId:"3",children:Object(k.jsx)(Ot,{})})]})]})}function wt(){var e=Object(E.c)((function(e){return e.auth}));return Object(n.useEffect)((function(){Ye()(document).ready((function(){Ye()("#success-alert").hide(),Ye()("#success-alert").fadeTo(5e3,500).slideUp(500,(function(){Ye()("#success-alert").slideUp(500)}))}))}),[e.isAuthenticated]),e.isAuthenticated?Object(k.jsxs)("div",{style:{zIndex:"9999"},id:"success-alert",className:"alert alert-success text-center mb-0",children:[Object(k.jsx)("strong",{children:"Success!"})," Welcome back ",Object(k.jsx)("b",{className:"text-capitalize",children:e.user.firstname+" "+e.user.lastname})]}):null}var yt=s(130),kt=s(128);s(101),s(52);function Ct(){var e=Object(E.b)(),t=Object(Ie.b)({mode:"all"}),s=t.register,n=t.handleSubmit,a=t.formState.errors;return Object(k.jsxs)("div",{className:"subscribe container my-5",children:[Object(k.jsx)("h2",{className:"subscribe__title",children:"Forgot your password?"}),Object(k.jsx)("p",{className:"subscribe__copy",children:"Enter your account email, we'll send you a link to reset your password"}),Object(k.jsxs)("form",{onSubmit:n((function(t){var s;e((s=t,function(e){fetch(V+"users/forgotpassword/sendlink",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error(e.statusMsg);K.d.success(e.statusMsg)}),(function(e){throw new Error("Error: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return K.d.error(e.message)}))})),console.log(t)})),className:"mb-4",children:[Object(k.jsx)("input",Object(_e.a)({name:"email",type:"text",placeholder:"Enter your email address",className:a.email?"form__email is-invalid":"form__email"},s("email",{required:"Required field",pattern:{value:/^[^@ ]+@[^@ ]+\.[^@ .]{2,}$/,message:"Email is not valid."}}))),Object(k.jsx)("button",{type:"submit",className:"form__button",children:"Send"}),a.email&&Object(k.jsx)("div",{className:"invalid-feedback",children:a.email.message})]}),Object(k.jsx)("div",{className:"notice",children:Object(k.jsx)("span",{className:"notice__copy text-warning",children:"Please note: if you have any previous reset password emails, the links will be disabled and no longer work after you click Send."})})]})}function St(){var e=Object(it.g)().pathname.split("/"),t=Object(n.useState)({pwd_1:"",pwd_2:""}),s=Object(u.a)(t,2),a=s[0],c=s[1],r=Object(E.b)(),i=Object(Ie.b)({mode:"all"}),o=i.register,l=i.handleSubmit,d=i.formState.errors;return Object(k.jsxs)("div",{className:"subscribe container my-5",children:[Object(k.jsx)("h2",{className:"subscribe__title",children:"Reset password"}),Object(k.jsx)("p",{className:"subscribe__copy",children:"Enter a new strong password"}),Object(k.jsxs)("form",{onSubmit:l((function(t){r(function(e,t,s){return function(n){fetch("".concat(V,"users/forgotpassword/resetpassword/").concat(e,"/").concat(t),{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"},credentials:"same-origin"}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error(e.statusMsg);K.d.success(e.statusMsg)}),(function(e){throw new Error("Error: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return K.d.error(e.message)}))}}(e[4],e[5],t))})),className:"mb-4",children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"newPassword",children:"New Password"}),Object(k.jsx)("input",Object(_e.a)(Object(_e.a)({name:"newPassword",type:"password",placeholder:"New password",className:d.password?"form-control is-invalid":" form-control"},o("newPassword",{required:"Required field",validate:Ae})),{},{onChange:function(e){return c(Object(_e.a)(Object(_e.a)({},a),{},{pwd_1:e.target.value}))}})),d.password&&Object(k.jsx)("div",{className:"invalid-feedback",children:d.password.message})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(k.jsx)("input",{onChange:function(e){return c(Object(_e.a)(Object(_e.a)({},a),{},{pwd_2:e.target.value}))},type:"password",className:"form-control",placeholder:"Confirm Password"}),a.pwd_2&&a.pwd_1!==a.pwd_2?Object(k.jsx)("div",{className:"text-danger",children:Object(k.jsx)("small",{children:"Password do not match"})}):null]}),Object(k.jsxs)("button",{type:"submit",className:"btn btn-success btn-block",children:[Object(k.jsx)("i",{className:"fa fa-paper-plane"})," Submit "]})]}),Object(k.jsx)("div",{className:"notice",children:Object(k.jsx)("span",{className:"notice__copy text-warning",children:"Please note: enter a strong password"})})]})}var Et=Object(it.i)((function(e){var t=Object(E.c)((function(e){return e.auth.token})),s=Object(E.b)();return Object(n.useEffect)((function(){if(s(se()),s(Z()),t&&s(oe()),t&&function(e){var t=JSON.parse(atob(e.split(".")[1])).exp;return Math.floor((new Date).getTime()/1e3)>=t}(t)&&s(xe()),window.location.pathname.includes("/users/verify/"))return function(e){fetch("".concat(V,"users/").concat(e)).then((function(e){return e.json()})).then((function(e){if(!e.success)throw setTimeout((function(){window.location.replace(window.location.origin)}),2200),new Error(e.statusMsg);K.d.success(e.statusMsg,{position:"top-center",transition:K.a}),setTimeout((function(){window.location.replace(window.location.origin)}),2200)}),(function(e){throw new Error("Error: "+e.message+" (Cannot connect to the server)")})).catch((function(e){return K.d.error(e.message)}))}(window.location.pathname.split("/users/")[1])}),[]),Object(n.useEffect)((function(){document.title="TheWayShop | ".concat(document.location.pathname.split("/")[1])}),[document.title]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(wt,{}),Object(k.jsx)(K.b,{autoClose:5e3,theme:"colored"}),Object(k.jsx)(ze,{}),Object(k.jsx)("div",{className:"pt-1",children:Object(k.jsx)(yt.a,{children:Object(k.jsx)(kt.a,{timeout:300,classNames:"page",children:Object(k.jsxs)(it.d,{children:[Object(k.jsx)(it.b,{exact:!0,path:"/home",component:function(){return Object(k.jsx)(et,{})}}),Object(k.jsx)(it.b,{exact:!0,path:"/products/:productId/:productName?",component:function(){return Object(k.jsx)(ot,{})}}),Object(k.jsx)(it.b,{path:"/wishlist",component:function(){return t?Object(k.jsx)(lt,{}):Object(k.jsx)(it.a,{to:"/home"})}}),Object(k.jsx)(it.b,{path:"/profile",component:function(){return t?Object(k.jsx)(Nt,{}):Object(k.jsx)(it.a,{to:"/home"})}}),Object(k.jsx)(it.b,{exact:!0,path:"/users/verify/:userId/:confirCode"}),Object(k.jsx)(it.b,{exact:!0,path:"/forgotpassword",component:function(){return Object(k.jsx)(Ct,{})}}),Object(k.jsx)(it.b,{exact:!0,path:"/users/forgotpassword/resetpassword/:userId/:confirResetPasswordCode",component:function(){return Object(k.jsx)(St,{})}}),Object(k.jsx)(it.a,{to:"/home"})]})},e.location.key)})}),Object(k.jsx)(Je,{})]})})),Pt=s(32),_t=s(58),It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,errMsg:null,comments:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!1,errMsg:null,comments:t.payload});case T:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!0,errMsg:null,comments:[]});case L:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!1,errMsg:t.payload,comments:[]});case A:return Object(_e.a)(Object(_e.a)({},e),{},{comments:e.comments.concat(t.payload)});default:return e}},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,success:!1,errMsg:null,products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!1,errMsg:null,products:t.payload});case F:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!1,errMsg:null,success:!0,products:e.products.concat(t.payload)});case q:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!0,errMsg:null,products:[]});case U:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!1,errMsg:t.payload,products:[]});default:return e}},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,errMsg:null,success:!1,wishlist:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!1,errMsg:null,wishlist:t.payload,success:!1});case z:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!1,errMsg:null,success:!0,wishlist:e.wishlist?e.wishlist.concat(t.payload):t.payload});case R:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!0,errMsg:null,wishlist:[],success:!1});case B:return Object(_e.a)(Object(_e.a)({},e),{},{loading:!1,errMsg:t.payload,wishlist:[],success:!1});default:return e}},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,isAuthenticated:!!localStorage.getItem("token"),token:localStorage.getItem("token"),user:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,errMsg:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(_e.a)(Object(_e.a)({},e),{},{isLoading:!0,isAuthenticated:!1,user:t.payload});case H:return Object(_e.a)(Object(_e.a)({},e),{},{isLoading:!1,isAuthenticated:!0,token:t.payload});case W:return Object(_e.a)(Object(_e.a)({},e),{},{isLoading:!1,isAuthenticated:!1,errMsg:t.payload});case Y:return Object(_e.a)(Object(_e.a)({},e),{},{isLoading:!0,isAuthenticated:!0});case G:return Object(_e.a)(Object(_e.a)({},e),{},{isLoading:!1,isAuthenticated:!1,token:"",user:null});case $:return Object(_e.a)(Object(_e.a)({},e),{},{user:JSON.parse(localStorage.getItem("userInfo"))});default:return e}},Mt=Object(Pt.d)(Object(Pt.c)({products:Tt,comments:It,auth:At,wishlist:Lt}),Object(Pt.a)(_t.a)),Ft=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(k.jsx)(E.a,{store:Mt,children:Object(k.jsx)(j.a,{children:Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(Et,{})})})})}}]),s}(n.Component),qt=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,132)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};r.a.render(Object(k.jsx)(a.a.Fragment,{children:Object(k.jsx)(Ft,{})}),document.getElementById("root")),qt()},52:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){},82:function(e,t,s){},87:function(e,t,s){},88:function(e,t,s){},89:function(e,t,s){},90:function(e,t,s){},91:function(e,t,s){},92:function(e,t,s){},93:function(e,t,s){},94:function(e,t,s){},95:function(e,t,s){},96:function(e,t,s){},97:function(e,t,s){}},[[102,1,2]]]);
//# sourceMappingURL=main.c07a4520.chunk.js.map